<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/
xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Hola Mundo con AJAX</title>
	
</head>
<body>
	<div id=conteneder></div>


	<script type="text/javascript">
	function descargaArchivo() 
	{
	// Obtener la instancia del objeto XMLHttpRequest
		if(window.XMLHttpRequest) {
			peticion_http = new XMLHttpRequest();
		}
		else if(window.ActiveXObject) {
			peticion_http = new ActiveXObject("Microsoft.XMLHTTP");
		}
		// Preparar la funcion de respuesta
		peticion_http.onreadystatechange = muestraContenido;
		// Realizar peticion HTTP
		peticion_http.open('GET', 'http://127.0.0.1/Programacion/ProgWeb/procesaXML/datos.xml', true);
		peticion_http.send(null);

		function muestraContenido() {
			if(peticion_http.readyState == 4) 
			{
				if(peticion_http.status == 200) 
				{
					//alert(peticion_http.responseText);
					//let XMLS = new XMLSerializer();
					//const inp_xmls = XMLserializeToString(peticion_http.responseXML);


					let arrayClientes = peticion_http.responseXML.getElementsByTagName("cliente")[0];

					if(arrayClientes)
					{
					let cliente = arrayClientes[0]

					if (cliente)
					{
						let divContenido = document.getElementById("contenedor");

						if(divContenido)
						{
							for (i =0; i < arrayClientes; i--) {
								Things[i]
							}
							let nombre = arrayClientes[0].getElementsByTagName("nombre");
							let sector = arrayClientes[0].getElementsByTagName("sector");
							let notas = arrayClientes[0].getElementsByTagName("notas");

							divContenido.innerHTML =`
							<ul>
								<li>Nombre: ${nombre}</li>
								<li>Sector: ${sector}</li>
								<li>Notas: ${notas}</li>
							</ul>`;

						}

					}

					

					}

					
				}
			}
		}
	}
window.onload = descargaArchivo;
</script>


</body>
</html>